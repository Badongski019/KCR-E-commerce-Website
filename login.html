<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Login — KCR</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="login.css">
  <script defer src="scripts.js"></script>
  <script>
    // Page-specific login handler that uses the demo storage from scripts.js
    document.addEventListener('DOMContentLoaded', ()=>{
      const form = document.getElementById('login-form');
      if(!form) return;
      form.addEventListener('submit', e=>{
        e.preventDefault();
        const email = document.getElementById('email').value.trim();
        const pass = document.getElementById('password').value;
        if(!email || !pass) return alert('Please enter email and password');
        try{ storage.setUser({ email, created: new Date().toISOString() }); }catch(err){ console.warn(err); }
        alert('Signed in as ' + email);
        location.href = 'KCR.html';
      });
    });
  </script>
</head>
<body>
<header>
  <div class="container">
    <nav>
      <a class="brand" href="KCR.html">KCR</a>
      <div class="nav-links">
        <a href="services.html">Services</a>
        <a href="how-it-works.html">How It Works</a>
        <a href="gallery.html">Gallery</a>
        <a href="testimonials.html">Testimonials</a>
        <a href="contact.html">Contact</a>
        <a href="checkout.html">Checkout</a>
        <a href="login.html">Account</a>
        <a class="btn btn-primary" href="start-order.html">Start Order</a>
        <button id="auth-btn" class="btn" aria-haspopup="dialog">Log in</button>
        <button id="cart-btn" class="btn btn-ghost" aria-haspopup="dialog">Cart (<span id="cart-count">0</span>)</button>
      </div>
    </nav>
  </div>
</header>

<main class="container">
  <section class="hero">
    <div class="hero-content">
      <h1>Account</h1>
      <p class="muted">Sign in to manage your orders and checkout faster.</p>
    </div>
  </section>

  <section class="container mt-4">
    <div class="form-card" style="max-width:520px;margin:0 auto">
      <form id="login-form">
        <label for="email">Email</label>
        <input id="email" type="email" required placeholder="you@example.com">

        <label for="password">Password</label>
        <input id="password" type="password" required placeholder="password">

        <div class="mt-3">
          <button class="btn btn-primary" type="submit">Sign In</button>
          <a class="btn btn-ghost" href="contact.html" style="margin-left:8px">Need Help?</a>
        </div>
      </form>
      <p class="muted mt-3">This is a demo sign-in — the site stores a simple user object in your browser only.</p>
    </div>
  </section>
</main>

<!-- Shared modals (auth + cart) -->
<div id="modal-auth" class="modal" aria-hidden="true">
  <div class="modal-card">
    <div class="modal-content">
      <h3 id="modal-title">Sign in</h3>
      <form>
        <label for="auth-email">Email</label>
        <input id="auth-email" type="email" required placeholder="you@example.com">
        <label for="auth-pass">Password</label>
        <input id="auth-pass" type="password" required placeholder="password">
        <div class="row mt-3">
          <button type="submit" class="btn btn-primary">Continue</button>
          <button type="button" data-close class="btn btn-secondary">Close</button>
        </div>
      </form>
      <p class="muted mt-3">Demo sign-in stores a simple user object in your browser only.</p>
    </div>
  </div>
</div>

<div id="modal-cart" class="modal" aria-hidden="true">
  <div class="modal-card">
    <div class="modal-content">
      <h3>Your Cart</h3>
      <div id="cart-items"></div>
      <div class="row mt-3 justify-between align-center">
        <strong>Total: $<span id="cart-total">0.00</span></strong>
        <div class="row" style="gap:8px">
          <button id="checkout-btn" class="btn btn-primary">Checkout</button>
          <button data-close class="btn btn-secondary">Close</button>
        </div>
      </div>
    </div>
  </div>
</div>

<footer class="footer">
  <p>&copy; 2025 KCR. All rights reserved.</p>
</footer>
</body>
</html>
